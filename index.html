<!DOCTYPE html>
<html lang="it">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>DMD</title>
    <link rel="stylesheet" href="index.css" />
    <script src="https://code.jquery.com/jquery-3.7.1.js"></script>
    <script src="https://code.jquery.com/ui/1.14.0/jquery-ui.js"></script>
  </head>
  <body style="cursor: auto">
    <div class="tavolo">
      <div
        id="proviamolo"
        style="height: fit-content; width: fit-content"
      ></div>
      <div id="mazzo-div">
        <img
          id="mazzo"
          style="height: 220px; width: 175px"
          src="resources/Tavola disegno 1.jpg"
          alt=""
        />
      </div>
      <div class="kingCard">
        <div>
          <img
            class="RE"
            id="cuori"
            src="./resources/Tavola disegno 52.jpg"
            alt=""
          />
        </div>
        <div>
          <img
            class="RE"
            id="picche"
            src="./resources/Tavola disegno 53.jpg"
            alt=""
          />
        </div>
        <div>
          <img
            class="RE"
            id="quadri"
            src="./resources/Tavola disegno 51.jpg"
            alt=""
          />
        </div>
        <div>
          <img
            class="RE"
            id="fiori"
            src="./resources/Tavola disegno 50.jpg"
            alt=""
          />
        </div>
      </div>
    </div>
  </body>
  <script>
    var startIndex = Math.floor(Math.random() * (6 - 2)) + 2;
    var rotation = 0;

    const card = document.createElement("img");
    card.src = `./resources/Tavola disegno ${startIndex}.jpg`;
    card.classList.add("card");
    card.addEventListener("contextmenu", (e) => {
      e.preventDefault();
      card.style.transform = `rotate(${(rotation = rotation - 90)}deg) `;
    });

    document.querySelector("#proviamolo").appendChild(card);
  </script>
  <script>
    var listaCarte = [];
    const mazzo = document.querySelector("#mazzo");

    function index() {
      do {
        var a = Math.floor(Math.random() * (50 - 6)) + 6;
      } while (listaCarte.includes(a));
      listaCarte.push(a);
      return a;
    }

    function spawnCard(event) {
      const card = document.createElement("img");
      card.src = `./resources/Tavola disegno ${index()}.jpg`;
      card.classList.add("card");
      card.style = "position: relative";
      $(function () {
        $(".card").draggable();
      });
      card.addEventListener("contextmenu", (e) => {
        card.style.transform = `rotate(${(rotation = rotation - 90)}deg) `;
        e.preventDefault();
      });

      document.querySelector("#proviamolo").appendChild(card);
    }

    mazzo.addEventListener("click", spawnCard);
  </script>
  <script>
    var rotationf = 0;
    document.querySelector("#fiori").addEventListener("contextmenu", (f) => {
      document.querySelector("#fiori").style.transform = `rotate(${(rotationf =
        rotationf - 90)}deg) `;
      f.preventDefault();
    });
    $(function () {
      $("#fiori").draggable();
    });
  </script>
  <script>
    var rotationc = 0;
    document.querySelector("#cuori").addEventListener("contextmenu", (c) => {
      document.querySelector("#cuori").style.transform = `rotate(${(rotationc =
        rotationc - 90)}deg) `;
      c.preventDefault();
    });
    $(function () {
      $("#cuori").draggable();
    });
  </script>
  <script>
    var rotationp = 0;
    document.querySelector("#picche").addEventListener("contextmenu", (p) => {
      document.querySelector("#picche").style.transform = `rotate(${(rotationp =
        rotationp - 90)}deg) `;
      p.preventDefault();
    });
    $(function () {
      $("#picche").draggable();
    });
  </script>
  <script>
    var rotationq = 0;
    document.querySelector("#quadri").addEventListener("contextmenu", (q) => {
      document.querySelector("#quadri").style.transform = `rotate(${(rotationq =
        rotationq - 90)}deg) `;
      q.preventDefault();
    });
    $(function () {
      $("#quadri").draggable();
    });
  </script>
</html>
